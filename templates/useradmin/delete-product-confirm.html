{% extends 'useradmin/base.html' %}
{% load static %}
{% load humanize %}
{% load i18n %}
{% block content %}

<section class="content-main">
    <div class="content-header">
        <div>
            <h2 class="content-title card-title">{% trans "Confirm Delete" %}</h2>
            <p>{% trans "Are you sure you want to delete this product?" %}</p>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <div class="mb-4">
                <h4>{{ product.title }}</h4>
                <p>ID: {{ product.pid }}</p>
                <p>{% trans "Price" %}: ${{ product.amount|floatformat:2 }}</p>
                
                {% if product_in_orders %}
                    <div class="alert alert-warning">
                        <strong>{% trans "Warning" %}:</strong> 
                        {% trans "This product appears in" %} {{ orders_count }} {% trans "order(s)" %}.
                        {% trans "Deleting it may cause issues with existing orders." %}
                    </div>
                {% endif %}
            </div>
            
            <form method="POST">
                {% csrf_token %}
                
                {% if product_in_orders %}
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" name="force_delete" value="yes" id="forceDelete">
                        <label class="form-check-label" for="forceDelete">
                            {% trans "I understand the risks and want to force delete this product" %}
                        </label>
                    </div>
                {% endif %}
                
                <div class="d-flex">
                    <button type="submit" class="btn btn-danger me-3">{% trans "Delete Product" %}</button>
                    <a href="{% url 'useradmin:dashboard-products' %}" class="btn btn-secondary">{% trans "Cancel" %}</a>
                </div>
            </form>
        </div>
    </div>
</section>

{% endblock content %}
